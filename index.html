<html>
<head>
	<meta charset="utf-8">
	
	<link rel="stylesheet" type="text/css" href="src/css/page.css">
	<link rel="stylesheet" type="text/css" href="src/css/content.css">
	<script src="src/lib/qrcode.js"> </script>
	<script src="src/js/record.js"></script>
	<script src="src/js/page.js"></script>

	
	<script src="src/lib/jquery-3.3.1.min.js"> </script>
	<script src='src/lib/spritespin.js' type='text/javascript'></script>
</head>
<body>
	 <!-- <iframe src="asset/sound/silence.mp3" allow="autoplay" id="_audio" style="display:none"></iframe> -->
	<audio id="_sound_bgm" autoplay loop>
    		<source src="asset/sound/Rainbow_Forest.mp3" type="audio/mp3">
	</audio>
	<audio id="_sound_count">
    	<source src="asset/sound/count.wav" type="audio/mp3">
	</audio>
	<audio id="_sound_click">
    	<source src="asset/sound/check.wav" type="audio/mp3">
	</audio>
	<audio id="_sound_finish">
    	<source src="asset/sound/result.mp3" type="audio/mp3">
	</audio>
	<audio id="_sound_error">
    	<source src="asset/sound/pop.wav" type="audio/mp3">
	</audio>
 
	<div id="_back_image_big" class="BackGround" >
		<div id="_back_loop_big"></div>
		<img src='asset/img/home_layout-01.png'/>
	</div>	
	<div id="_back_image_small" class="BackGround hidden close">
		<div id='_back_loop_small'></div>
		<img src='asset/img/home_layout-02.png'/>
	</div>
	<div id="_back_image_loading" class="BackGround hidden close">
		<div id='_back_loading'></div>
		<img src='asset/img/home_layout-01.png'/>
	</div>
	
	<div class="HomeButton" id="_home_button">
		<img src="asset/img/title/img-02.png" onClick="homeClicked()"/>
	</div>
	<div class="Container" id="_page_home">
		<div class="Row" style="margin-top:260px">
			<img class="CenterItem Title" src="asset/img/title/img-01.png"/>
		</div>
		<div class="Row" style="margin-top:100px">
			<img class="CenterItem Text" src="asset/img/text/img-01.png"/>
		</div>
		<div class="Row" style="margin-top:120px">
			<div class="CenterItem">
				<img class="Button" src="asset/img/btn/btn-01.png" onClick="goPage('_page_record_autho')"/>
				<img class="Button" src="asset/img/btn/btn-02.png" onClick="goPage('_page_watch_code')"/>
			</div>
		</div>		
	</div>
	<div class="Container hidden close" id="_page_watch_code">		
		<div class="Row" style="margin-top:535px">
			<img class="CenterItem Text" src="asset/img/text/img-02.png"/>
		</div>
		<div class="Row" style="margin-top:80px">
			<input class="CenterItem" type="text" id="_input_watch_code" placeholder="請輸入六位數序號" maxlength="6" autocomplete="off"/>
		</div>
		<div class="Row" style="margin-top:115px">
			<img class="CenterItem Button Disabled" src="asset/img/btn/img-03.png" onClick="loadVideo()" id="_button_watch_code"/>
			<div class="ErrorHint hidden" id="_error_watch_code">*此序號不存在</div>	
		</div>		
	</div>
	<div class="Container hidden close" id="_page_watch_loading">		
		<div class="Row" style="margin-top:465px">
			<img class="CenterItem Text" src="asset/img/text/img-04.png"/>
		</div>
		<div class="Row" style="margin-top:340px">
			<div class="CenterItem hidden close" id="_loading_text">
				<span id="_loading_percent"></span>
				<span>%</span>
			</div>
		</div>		
	</div>
	<div class="Container hidden close" id="_page_watch_video">		
		<div class="Row" style="margin-top:370px">
			<div class="CenterItem VideoContainer" >
				<video class="VideoFrame" id="_video_watching" preload="auto" autoplay></video>
				<div class="VideoAcc Container hidden close" id="_watch_finish_button">
					<div class="CenterItem" id="_watch_qrcode_container">
						<div id="_watch_qrcode"></div>
					</div>
					<img class="CenterItem Button" src="asset/img/btn/img-06.png" onClick="goPage('_page_record_autho')" id="_button_make_record"/>					
				</div>				
			</div>
		</div>	
		<div class="Row" style="margin-top:0px">		
			<div class="CenterItem VideoControl">
				<div class="progress">
					<div class="progress-bar" role="progressbar" id="_progress_video_watch"></div>
				</div>					
				<div class="VideoTime" id="_time_video_watch">00:00</div>
			</div>
		</div>	
	</div>
	<div class="Container hidden close" id="_page_record_autho">	
		<div class="Row" style="margin-top:400px">
			<img class="CenterItem Text" src="asset/img/text/img-07.png"/>
		</div>
		<div class="Row" style="margin-top:35px">
			<div class="CenterItem AuthoContainer">
				<div class="AuthoText">
				<p class="AuthoTitle">一、蒐集個人資料告知事項</p>
    <p>本活動「驚喜生成器」係由誠品生活股份有限公司(下稱主辦單位)主辦，為遵守個人資料保護法之規定，在參加人提供個人資料予主辦單位前，謹依法告知下列事項：</p>
 <p>(一)為供參加人使用本活動機台錄製影像短片並通知他人前來觀看，以及供主辦單位挑選影像短片公開上傳至相關網頁之本活動目的，本活動機台使用時將獲取並儲存參加人提供之個人資料(包括但不限於姓名、肖像、聲音以及一切參加人輸入機台之資訊)。</p>
 <p>(二)本活動將自民眾儲存於機台之影片中挑選佳作公開上傳至主辦單位網頁，故主辦單位基於前述目的將使用參加人提供的個人資料，使用期間為2019年12月01日至2020年6月30日，使用期間過後將會刪除參加人儲存之個人資料，惟已被挑選並上傳至網頁之影片及相關資訊不在此限。</p>
 <p>(三)個人資料保護法第3條規定，就參加人提供之個人資料可向主辦單位行使下列權利：1、查詢或請求閱覽。2、請求製給複製本。3、請求補充或更正。4、請求停止蒐集、處理或利用。5、請求刪除。
    主辦單位聯絡方式：02-6638-5168 #773 </p>
 <p>(四)如參加人不同意提供個人資料或要求刪除或停止蒐集、處理、利用個人資料，可能因此無法完成本活動目的或提供相關服務。</p>

<p class="AuthoTitle">二、授權事項</p>
 <p>(一)就參加人使用本活動機台錄製之影片(包括但不限於文字、圖片及動態影像、聲音等)，以參加人及主辦單位為共同著作人，參加人同意無償授權供主辦單位自行規畫使用著作財產權於本活動(包括但不限於與商業及非商業利用有關之重製、公開發表、改作、散布、公開展示、公開傳輸、公開播送及發行等行為）或著作人格權，無須再通知或經由參加人本人同意，參加人亦同意不向主辦單位方面主張著作人格權、著作財產權或肖像權。</p>
 <p>(二)主辦單位得對參加人提供之影片(包括但不限於文字、圖片及動態影音)進行拷貝、轉檔、轉傳、設計等美化和增刪之處理。</p>

<p class="AuthoTitle">三、其他事項</p>
 <p>(一)參加人須自行對使用本活動機台之行為及輸入、儲存、傳遞之資訊內容(包括但不限於文字、圖片或影像、聲音等)負法律上責任，本活動機台僅供參加人錄製影片傳遞祝福之用，不得利用本活動機台為不法行為，否則參加人須自負完全法律上責任。若因參加人利用本活動侵害他人權利(如智慧財產權、肖像權或其他權利)致生損害於主辦單位，參加人應對他人及主辦單位負賠償責任(包括商譽損害、律師費、訴訟費用等)。</p>
 <p>(二)主辦單位有權閱覽參加者儲存於本活動機台之所有內容及資訊。參加人使用本活動機台應遵守個人資料保護法等相關規定，若有侵害他人個資情事，應自負法律上責任，與主辦單位無涉。</p>
 <p>(三)主辦單位就本活動告知及同意事項有修改權、更新權及最終解釋權。</p>
 <p>(四)凡因本活動告知及同意事項所生之爭議，雙方同意依中華民國法律及商業慣例，本誠信原則協議解決之；如有訴訟之必要時，參加人同意以台灣台北地方法院為第一管轄法院。</p>
<p class="AuthoTitle">四、參加人確出於自願參加本次由主辦單位舉辦之本活動，一旦點擊確認連結後即視同已詳細閱讀、並同意上述條款及主辦單位所發布之本活動相關說明及規定。</p>
			</div>
		</div>
		</div>
		<div class="Row" style="margin-top:50px">
			<div class="CenterItem">
				<img class="Button" src="asset/img/btn/btn-07.png" onClick="goPage('_page_home')"/>
				<img class="Button" src="asset/img/btn/btn-08.png" onClick="goPage('_page_record_video')"/>
			</div>
		</div>		
	</div>
	<div class="Container hidden close" id="_page_record_video">		
		<div class="Row" style="margin-top:370px">
			<div class="CenterItem VideoContainer">
				<video class="VideoFrame" id="_video_recording" autoplay muted></video>
				<video class="VideoFrame" id="_video_preview" autoplay></video>

				<div class="VideoAcc Container hidden close" id="_acc_ready">
					<img class="blink" id="_acc_camera" src="asset/img/acc/img-08.png" style="position:absolute;top:40px;left:40px"/>
					<div class="CenterItem hidden close" id="_record_ready_countdown" style="margin-top:350px"></div>
					<img class="CenterItem hidden close" id="_record_ready_text" src="asset/img/text/img-08.png" style="margin-top:80px"/>			
				</div>
				<div class="VideoAcc Container hidden close" id="_acc_recording">
					<img class="blink" id="_acc_recording" src="asset/img/acc/img-09.png" style="position:absolute;top:40px;left:40px"/>			
					<div id="_record_countdown">					
						 <svg height="100" width="100" class="LoadingCircle" id="_loading_circle">
						 	<circle cx="50" cy="50" r="40" stroke="white" stroke-width="4" fill="transparent"/>
						 </svg>
						<div id="_record_countdown_number">30s</div>		  
					</div>
				</div>
				<div class="VideoAcc Container hidden close" id="_acc_preview"">
					<img class="blink" src="asset/img/acc/img-10.png" style="position:absolute;top:40px;left:40px"/>
					<div class="Row hidden close" id="_record_finish_button" style="margin-top:980px;z-index: 20">`
						<img class="Button" src="asset/img/btn/btn-10.png" onClick="recordAgain()" id="_button_record_again"/>
						<img class="Button" src="asset/img/btn/btn-11.png" onClick="goPage('_page_send')"/>
					</div>
				</div>
			</div>			
		</div>		
		<div class="Row hidden" id="_preview_control" style="margin-top:0px">		
			<div class="CenterItem VideoControl">
				<div class="progress">
					<div class="progress-bar" role="progressbar" id="_progress_video_preview"></div>
				</div>					
				<div class="VideoTime" id="_time_video_preview">00:00</div>
			</div>
		</div>	
	</div>
	<div class="Container hidden close" id="_page_send">		
		<div class="Row" style="margin-top:440px">
			<img class="CenterItem" src="asset/img/text/img-11.png"/>
		</div>
		<div class="Row" style="margin-top:80px">	
			<input class="CenterItem" type="text" id="_input_send_name" placeholder="請輸入他的名字" autocomplete="off"/>
		</div>
		<div class="Row" style="margin-top:15px">		
			<input class="CenterItem" type="tel" id="_input_send_phone" placeholder="請輸入他的手機號碼 *僅限台灣本島" maxlength="12" autocomplete="off"/>
		</div>
		<div class="Row" style="margin-top:115px">		
			<img class="Button Disabled" src="asset/img/btn/img-12.png" onClick="sendSurprise()" id="_button_send_surprise"/>
			<div class="ErrorHint hidden" id="_error_send_surprise"></div>
		</div>
	</div>
	<div class="Container hidden close" id="_page_send_success">		
		<div class="Row" style="margin-top:340px">
			
			<svg class="CenterItem CheckCircle" viewBox="0 0 135 135">
			    <circle cx="67.5" cy="67.5" r="67.5" fill="white" stroke="white"/>
			    <path class="CheckMark" fill="none" d="M40 75 L 60 93 L 95 46" stroke-width="8" stroke-linecap="round" id="_success_send"/>
			</svg>

			<img class="CenterItem" src="asset/img/text/img-13.png" style="margin-top:55px"/>
		</div>
		<div id="_record_code"></div>
		<div id="_record_qrcode"></div>
		
		<div class="Row" style="margin-top:70px">`
			<img class="Button" src="asset/img/btn/img-16.png" onClick="goPage('_page_home')"/>
			<img class="Button" src="asset/img/btn/img-15.png" onClick="goPage('_page_lottery')"/>
		</div>
	</div>
	<div class="Container hidden close" id="_page_lottery">		
		<div class="Row" style="margin-top:400px">
			<img class="CenterItem" src="asset/img/text/img-14.png"/>
		</div>
		<div class="Row" style="margin-top:50px">
			<input class="CenterItem" type="text" id="_input_lottery_name" placeholder="你的姓名" autocomplete="off"/>
		</div>
		<div class="Row" style="margin-top:18px">		
			<input class="CenterItem" type="text" id="_input_lottery_number" placeholder="十位數發票號碼" maxlength="11" autocomplete="off" />
		</div>
		<div class="Row" style="margin-top:18px">
			<input class="CenterItem" type="number" id="_input_lottery_price" placeholder="發票消費金額" autocomplete="off"/>
		</div>
		<div class="Row" style="margin-top:18px">
			<input class="CenterItem" type="text" id="_input_lottery_email" placeholder="E-mail" autocomplete="off" />
		</div>
		<div class="Row" style="margin-top:18px">		
			<input class="CenterItem" type="tel" id="_input_lottery_phone" placeholder="手機號碼" maxlength="12" autocomplete="off"/>
		</div>
		<div class="Row" style="margin-top:80px">
			<img class="Button Disabled" src="asset/img/btn/img-15.png" onClick="sendTicketInfo()" id="_button_send_lottery"/>
			<div class="ErrorHint hidden" id="_error_send_lottery"></div>
		</div>
	</div>
	<div class="Container hidden close" id="_page_lottery_success">		
		<div class="Row" style="margin-top:425px">
			<svg class="CenterItem CheckCircle" viewBox="0 0 135 135" id="_success_send">
			    <circle cx="67.5" cy="67.5" r="67.5" fill="white" stroke="white"/>
			    <path class="CheckMark" fill="none" d="M40 75 L 60 93 L 95 46" stroke-width="8" stroke-linecap="round" id="_success_lottery"/>
			</svg>
			<img class="CenterItem" src="asset/img/text/img-16.png" style="margin-top:55px"/>			
		</div>
		<div class="Row" style="margin-top:130px">
			<img class="CenterItem Button" src="asset/img/btn/img-16.png" onClick="goPage('_page_home')"/>			
		</div>
	</div>
</body>
</html>